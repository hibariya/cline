#!/usr/bin/env ruby
# coding: utf-8

trap :INT do
  print "\r"
  exit
end

require_relative '../lib/cline'

begin
  Cline::Command.start
rescue Exception
  Pathname.new("#{Cline.cline_dir}/log").open('a') do |f|
    f.puts '---'
    f.puts Time.now
    f.puts $!.class
    f.puts $!.message
    f.puts $!.backtrace.join("\n")
  end

  raise $!
end
